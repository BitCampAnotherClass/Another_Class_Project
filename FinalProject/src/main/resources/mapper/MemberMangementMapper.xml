<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anotherclass.bitcamp.dao.admin.MemberMangementDAO">
	<select id="MemberList" parameterType="com.anotherclass.bitcamp.register.RegisterVO" resultType="com.anotherclass.bitcamp.register.RegisterVO">
		<![CDATA[
			SELECT m.p_num, m.member_id, m.member_name, m.member_email, m.member_tel, m.signupdate, i.type_user, i.type_creator, i.type_admin FROM (SELECT a.*, ROWNUM as p_num FROM 
   	 		(SELECT member_id, member_name, member_email, member_tel, signupdate
    		FROM memberTbl ORDER BY signupdate DESC, member_name ASC) a) m INNER join idAll i
    		on (m.p_num >=#{param1} and m.p_num<=#{param2}) and  m.member_id = i.member_id and i.type_admin = 0 order by signupdate DESC
         ]]>
	</select>
	<select id="boardLimit" resultType="int" >
		SELECT COUNT(member_id) FROM memberTbl
	</select>
</mapper>